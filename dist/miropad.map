{"version":3,"sources":["js/utils/isJSON.js","js/notify.js","js/utils/prettifyJSON.js","js/utils/hashBrowser.js","js/utils/localstorage.js","js/welcome.js","js/main.js","index.js","../../../.yarn-cache/.global/node_modules/parcel-bundler/src/builtins/bundle-url.js","../../../.yarn-cache/.global/node_modules/parcel-bundler/src/builtins/css-loader.js"],"names":["isJSON","str","JSON","parse","e","Notify","notificationContainer","document","querySelector","defaultAutohideDuration","autohideDuration","types","info","success","error","warning","timer","onclick","_cleanNotificationClasses","Object","keys","map","classList","remove","type","setTimeout","clearTimeout","message","innerHTML","_clearTimeouts","add","_removeAfter","time","_showNotification","notify","prettifyJSON","selector","el","value","prettifiedJSON","stringify","sucess","hashBrowser","crypto","subtle","digest","TextEncoder","encode","val","then","h","hexes","view","DataView","i","byteLength","push","getUint32","toString","slice","join","saveToLocalStorage","what","length","hash","localStorage","setItem","window","location","assign","getSavedState","substr","savedTxt","getItem","welcomeUser","lastVisit","Date","toLocaleDateString","listeners","evtobj","event","keyCode","ctrlKey","preventDefault","text","main","onkeydown","console","log","bundleURL","getBundleURLCached","getBundleURL","Error","err","matches","stack","match","getBaseURL","url","replace","exports","bundle","require","updateLink","link","newLink","cloneNode","onload","href","split","now","parentNode","insertBefore","nextSibling","cssTimeout","reloadCSS","links","querySelectorAll","module"],"mappings":"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","file":"miropad.map","sourcesContent":["const isJSON = (str) => {\n  try {\n    JSON.parse(str);\n  } catch (e) {\n    return false;\n  }\n  return true;\n};\n\nexport default isJSON;\n","class Notify {\n  constructor() {\n    this.notificationContainer = document.querySelector('body #notification');\n    this.defaultAutohideDuration = 5;\n    this.autohideDuration = 5;\n    this.types = {\n      info: 'info',\n      success: 'success',\n      error: 'error',\n      warning: 'warning',\n    };\n    this.timer;\n    this.notificationContainer.onclick = () => {\n      this._cleanNotificationClasses();\n    };\n  }\n\n  _cleanNotificationClasses() {\n    Object.keys(this.types).map(type => this.notificationContainer.classList.remove(type));\n  }\n\n  _removeAfter() {\n    this.timer = setTimeout(() => {\n      this._cleanNotificationClasses();\n    }, this.autohideDuration * 1000);\n  }\n\n  _clearTimeouts() {\n    clearTimeout(this.timer);\n  }\n\n  _showNotification(message, type) {\n    this._cleanNotificationClasses();\n    this.notificationContainer.innerHTML = message;\n    this._clearTimeouts();\n    this.notificationContainer.classList.add(type);\n    this._removeAfter();\n  }\n\n  info(message, time = this.defaultAutohideDuration) {\n    this.autohideDuration = time;\n    this._showNotification(message, this.types.info);\n  }\n\n  sucess(message, time = this.defaultAutohideDuration) {\n    this.autohideDuration = time;\n    this._showNotification(message, this.types.success);\n  }\n\n  error(message, time = this.defaultAutohideDuration) {\n    this.autohideDuration = time;\n    this._showNotification(message, this.types.error);\n  }\n\n  warning(message, time = this.defaultAutohideDuration) {\n    this.autohideDuration = time;\n    this._showNotification(message, this.types.warning);\n  }\n}\n\nconst notify = new Notify();\nexport default notify;\n","import isJSON from './isJSON';\nimport notify from '../notify';\n\nconst prettifyJSON = (selector) => {\n  const el = document.querySelector(selector);\n  if (isJSON(el.value)) {\n    const prettifiedJSON = JSON.stringify(JSON.parse(el.value), null, 2);\n    el.value = prettifiedJSON;\n    notify.sucess('👍 JSON value prettified');\n  } else {\n    notify.error('😧 Value is not in valid JSON format');\n  }\n};\n\nexport default prettifyJSON;\n","/* global crypto, TextEncoder */\n// more info about the hashBrowser function ==> https://github.com/Chalarangelo/30-seconds-of-code#hashbrowser-\n\nconst hashBrowser = val =>\n  crypto.subtle.digest('SHA-256', new TextEncoder('utf-8').encode(val)).then((h) => {\n    const hexes = [];\n    const view = new DataView(h);\n    for (let i = 0; i < view.byteLength; i += 4) {\n      hexes.push(`00000000${view.getUint32(i).toString(16)}`.slice(-8));\n    }\n    return hexes.join('');\n  });\n\nexport default hashBrowser;\n","import hashBrowser from './hashBrowser';\nimport notify from '../notify';\n\nexport const saveToLocalStorage = async (what) => {\n  if (what.length) {\n    const hash = await hashBrowser(what);\n    try {\n      localStorage.setItem(hash, what);\n      window.location.assign(`#${hash}`);\n      notify.sucess('👌 Note saved!');\n    } catch (e) {\n      notify.error(`😱 Something went wrong while trying to save to local storage ${e}`); // eslint-disable-line\n    }\n  } else {\n    notify.warning('😕 Nothing to save!'); // eslint-disable-line\n  }\n};\n\nexport const getSavedState = () => {\n  const hash = window.location.hash.substr(1);\n  const savedTxt = localStorage.getItem(hash);\n  return savedTxt;\n};\n","import notify from './notify';\n\nconst welcomeUser = () => {\n  const lastVisit = localStorage.getItem('miropad.user');\n  if (lastVisit) {\n    notify.info(`🤗 Happy to see you again from ${lastVisit}`);\n  } else {\n    notify.info(\n      `<h1>Welcome 👋 😃 </h1>\n    <p>Use  Ctrl+S:  to save your note<p/>\n    <p>& Ctrl+P: to format a JSON doc<p/>`,\n      100,\n    );\n  }\n  localStorage.setItem('miropad.user', new Date().toLocaleDateString());\n};\n\nexport default welcomeUser;\n","import '../css/styles.css';\nimport prettifyJSON from './utils/prettifyJSON';\nimport { saveToLocalStorage, getSavedState } from './utils/localstorage';\nimport welcomeUser from './welcome';\n\nconst listeners = (e) => {\n  const evtobj = window.event || e;\n  // Control + p\n  if (evtobj.keyCode === 80 && evtobj.ctrlKey) {\n    e.preventDefault();\n    prettifyJSON('.terminal');\n  }\n  // Control + s\n  if (evtobj.keyCode === 83 && evtobj.ctrlKey) {\n    e.preventDefault();\n    const text = document.querySelector('.terminal').value;\n    saveToLocalStorage(text);\n  }\n};\n\nconst main = () => {\n  welcomeUser();\n  document.onkeydown = listeners;\n  const savedTxt = getSavedState();\n  document.querySelector('.terminal').value = savedTxt;\n};\n\nexport default main;\n","import main from './js/main';\n\nconsole.log('Hello World!');\n\nmain();\n","var bundleURL = null;\nfunction getBundleURLCached() {\n  if (!bundleURL) {\n    bundleURL = getBundleURL();\n  }\n\n  return bundleURL;\n}\n\nfunction getBundleURL() {\n  // Attempt to find the URL of the current script and use that as the base URL\n  try {\n    throw new Error;\n  } catch (err) {\n    var matches = ('' + err.stack).match(/(https?|file|ftp):\\/\\/[^)\\n]+/g);\n    if (matches) {\n      return getBaseURL(matches[0]);\n    }\n  }\n\n  return '/';\n}\n\nfunction getBaseURL(url) {\n  return ('' + url).replace(/^((?:https?|file|ftp):\\/\\/.+)\\/[^/]+$/, '$1') + '/';\n}\n\nexports.getBundleURL = getBundleURLCached;\nexports.getBaseURL = getBaseURL;\n","var bundle = require('./bundle-url');\n\nfunction updateLink(link) {\n  var newLink = link.cloneNode();\n  newLink.onload = function () {\n    link.remove();\n  };\n  newLink.href = link.href.split('?')[0] + '?' + Date.now();\n  link.parentNode.insertBefore(newLink, link.nextSibling);\n}\n\nvar cssTimeout = null;\nfunction reloadCSS() {\n  if (cssTimeout) {\n    return;\n  }\n\n  cssTimeout = setTimeout(function () {\n    var links = document.querySelectorAll('link[rel=\"stylesheet\"]');\n    for (var i = 0; i < links.length; i++) {\n      if (bundle.getBaseURL(links[i].href) === bundle.getBundleURL()) {\n        updateLink(links[i]);\n      }\n    }\n\n    cssTimeout = null;\n  }, 50);\n}\n\nmodule.exports = reloadCSS;\n"]}